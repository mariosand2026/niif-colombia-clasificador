<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NIIF Colombia Clasificador (Decreto 2420/2015)</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <div class="container">
    <h1>ğŸ“Š NIIF Colombia Clasificador</h1>
    <p>Basado en el <strong>Decreto 2420/2015</strong> y Ley 1314/2009</p>

    <!-- PASO 1: Datos de la empresa -->
    <div class="step" id="step-datos">
      <h2>ğŸ“‹ Datos de la empresa</h2>
      <form id="datos-form">
        <label>Nombre de la empresa <span>*</span></label>
        <input type="text" name="nombre" required placeholder="Ej: CafÃ© de Colombia S.A." />

        <label>NIT <span>*</span></label>
        <input type="text" name="nit" required placeholder="Ej: 123456789-0" pattern="[0-9\-]{9,15}" />

        <label>Sector econÃ³mico</label>
        <select name="sector">
          <option value="">Selecciona</option>
          <option value="comercio">Comercio</option>
          <option value="industria">Industria</option>
          <option value="servicios">Servicios</option>
          <option value="tecnologÃ­a">TecnologÃ­a</option>
          <option value="agro">Agropecuario</option>
          <option value="otro">Otro</option>
        </select>

        <label>AÃ±o fiscal <span>*</span></label>
        <select name="anio" required>
          <option value="2026" selected>2026 (SMMLV 2025: $1.528.000)</option>
          <option value="2025">2025 (SMMLV 2024: $1.423.500)</option>
          <option value="2024">2024 (SMMLV 2023: $1.300.000)</option>
        </select>

        <button type="button" onclick="continuarTipoEntidad()">Continuar â†’</button>
      </form>
    </div>

    <!-- PASO 2: Tipo de entidad -->
    <div class="step" id="step1" style="display:none;">
      <h2>1. Â¿QuÃ© tipo de entidad es?</h2>
      <button onclick="startForProfit()">Empresa con fines de lucro</button>
      <button onclick="startNonProfit()">Entidad sin fines de lucro</button>
    </div>

    <!-- PASO 3: Flujo empresa con fines de lucro -->
    <div class="step" id="step-profit" style="display:none;">
      <h2>Empresa con fines de lucro</h2>
      <form id="profit-form">
        <!-- Grupo 1: Criterios ampliados -->
        <label>Â¿Es <strong>entidad de interÃ©s pÃºblico</strong> o <strong>emisor de valores</strong>? <span>*</span></label>
        <select name="interes_publico" required><option value="">Selecciona</option><option value="si">SÃ­</option><option value="no">No</option></select>

        <label>Â¿Tiene <strong>â‰¥200 empleados</strong> o <strong>activos â‰¥30.000 SMMLV</strong>? <span>*</span></label>
        <select name="empleados_activos" required><option value="">Selecciona</option><option value="si">SÃ­</option><option value="no">No</option></select>

        <label>Â¿Cotiza en bolsa? <span>*</span></label>
        <select name="cotiza_bolsa" required><option value="">Selecciona</option><option value="si">SÃ­</option><option value="no">No</option></select>

        <label>Â¿Obligado a rendiciÃ³n pÃºblica de cuentas? <span>*</span></label>
        <select name="rendicion_cuentas" required><option value="">Selecciona</option><option value="si">SÃ­</option><option value="no">No</option></select>

        <label>Â¿>50% de operaciones en importaciones/exportaciones? <span>*</span></label>
        <select name="import_export" required><option value="">Selecciona</option><option value="si">SÃ­</option><option value="no">No</option></select>

        <label>Â¿Es matriz/subordinada de empresa extranjera con NIIF plenas? <span>*</span></label>
        <select name="matriz_extranjera" required><option value="">Selecciona</option><option value="si">SÃ­</option><option value="no">No</option></select>

        <button type="button" onclick="clasificarGrupo1()">Clasificar</button>
      </form>
    </div>

    <!-- PASO 3: Flujo sin fines de lucro -->
    <div class="step" id="step-nonprofit" style="display:none;">
      <h2>Entidad sin fines de lucro</h2>
      <form id="nonprofit-form">
        <label>Â¿Es entidad de interÃ©s pÃºblico? <span>*</span></label>
        <select name="interes_publico_efil" required><option value="">Selecciona</option><option value="si">SÃ­</option><option value="no">No</option></select>

        <label>Â¿Cumple alguna de estas condiciones? (200+ empleados, activos â‰¥30.000 SMMLV, cotiza en bolsa) <span>*</span></label>
        <select name="tamano_efil" required><option value="">Selecciona</option><option value="si">SÃ­</option><option value="no">No</option></select>

        <button type="button" onclick="clasificarGrupo3()">Clasificar</button>
      </form>
    </div>

    <!-- PASO 4: Resultado -->
    <div class="result" id="result" style="display:none;">
      <h2>âœ… Resultado</h2>
      <div id="result-text"></div>
      <button onclick="descargarPDF()">ğŸ“„ Descargar PDF</button>
      <button onclick="resetApp()">ğŸ”„ Clasificar otra empresa</button>
    </div>

    <footer>
      <p><strong>App elaborada por:</strong> MG ESP CP Mario AndrÃ©s NarvÃ¡ez Delgado</p>
      <p>Basado en el <a href="https://www.funcionpublica.gov.co/eva/gestornormativo/norma_pdf.aspx?i=115761" target="_blank">Decreto 2420/2015</a>.</p>
      <p>âš ï¸ Esta app no reemplaza asesorÃ­a contable profesional.</p>
    </footer>
  </div>

  <script src="app.js"></script>
</body>
</html>
